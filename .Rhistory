player = c("Thompson", "Curry", "Green", "Durant", "Pachulia")
position = c("SG", "PG", "PF", "SF", "C")
salary = c(16663575, 12112359, 15330435, 26540100, 2898000)
points = c(1742, 1999, 776, 1555, 426)
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1)
rookie = c(FALSE, FALSE, FALSE, FALSE, FALSE)
myTable1 <- data.frame(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myList <- list(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myTable2 <- data.frame(myList, stringsAsFactors = FALSE)
player = c("Thompson", "Curry", "Green", "Durant", "Pachulia")
position = c("SG", "PG", "PF", "SF", "C")
salary = c(16663575, 12112359, 15330435, 26540100, 2898000)
points = c(1742, 1999, 776, 1555, 426)
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1)
rookie = c(FALSE, FALSE, FALSE, FALSE, FALSE)
myTable1 <- data.frame(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myList <- list(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myTable2 <- data.frame(myList, stringsAsFactors = FALSE)
str(myTable1)
str(myTable2)
w2
2
player = c("Thompson", "Curry", "Green", "Durant", "Pachulia")
position = c("SG", "PG", "PF", "SF", "C")
salary = c(16663575, 12112359, 15330435, 26540100, 2898000)
points = c(1742, 1999, 776, 1555, 426)
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1)
rookie = c(FALSE, FALSE, FALSE, FALSE, FALSE)
myTable1 <- data.frame(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myList <- list(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myTable2 <- data.frame(myList, stringsAsFactors = FALSE)
str(myTable1)
str(myTable2)
player = c("Thompson", "Curry", "Green", "Durant", "Pachulia")
position = c("SG", "PG", "PF", "SF", "C")
salary = c(16663575, 12112359, 15330435, 26540100, 2898000)
points = c(1742, 1999, 776, 1555, 426)
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1)
rookie = c(FALSE, FALSE, FALSE, FALSE, FALSE)
myTable1 <- data.frame(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myList <- list(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myTable2 <- data.frame(myList, stringsAsFactors = FALSE)
str(myTable1)
str(myTable2)
rm(list = ls())
# creating a basic data frame
my_table1 <- data.frame(
col1 = LETTERS[1:5],
col2 = seq(from = 10, to = 50, by = 10),
col3 = c(TRUE, TRUE, FALSE, TRUE, FALSE)
)
my_table1
player = c("Thompson", "Curry", "Green", "Durant", "Pachulia")
position = c("SG", "PG", "PF", "SF", "C")
salary = c(16663575, 12112359, 15330435, 26540100, 2898000)
points = c(1742, 1999, 776, 1555, 426)
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1)
rookie = c(FALSE, FALSE, FALSE, FALSE, FALSE)
myTable1 <- data.frame(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myList <- list(Player = player, Position = position, Salary = salary, Points = points, PPG = ppg, Rookie = rookie)
myTable2 <- data.frame(myList, stringsAsFactors = FALSE)
str(myTable1)
str(myTable2)
# strings as strings (not as factors)
my_table3 <- data.frame(
col1 = LETTERS[1:5],
col2 = seq(from = 10, to = 50, by = 10),
col3 = c(TRUE, TRUE, FALSE, TRUE, FALSE),
stringsAsFactors = FALSE
)
str(my_table3)
# strings as strings (not as factors)
my_table3 <- data.frame(
col1 = LETTERS[1:5],
col2 = seq(from = 10, to = 50, by = 10),
col3 = c(TRUE, TRUE, FALSE, TRUE, FALSE),
stringsAsFactors = FALSE
)
str(my_table3)
tbl <- data.frame(
player = c('Thompson', 'Curry', 'Green', 'Durant', 'Pachulia'),
position = c('SG', 'PG', 'PF', 'SF', 'C'),
salary = c(16663575, 12112359, 15330435, 26540100, 2898000),
points = c(1742, 1999, 776, 1555, 426),
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1),
rookie = rep(FALSE, 5),
stringsAsFactors = FALSE
)
tbl
tbl <- data.frame(
player = c('Thompson', 'Curry', 'Green', 'Durant', 'Pachulia'),
position = c('SG', 'PG', 'PF', 'SF', 'C'),
salary = c(16663575, 12112359, 15330435, 26540100, 2898000),
points = c(1742, 1999, 776, 1555, 426),
ppg = c(22.3, 25.3, 10.2, 25.1, 6.1),
rookie = rep(FALSE, 5),
stringsAsFactors = FALSE
)
# select value in row 1 and column 1
tbl[1,1]
# select value in row 2 and column 5
tbl[2,5]
# select values in these cells
tbl[1:3,3:5]
# selecting first row
tbl[1, ]
# selecting third row
tbl[3, ]
# selecting second column
tbl[ ,2]
# selecting columns 3 to 5
tbl[ ,3:5]
# adding a column
tbl$new_column <- c('a', 'e', 'i', 'o', 'u')
tbl
# vector of weights
weight <- c(215, 190, 230, 240, 270)
# adding weights to tbl
tbl <- cbind(tbl, weight)
tbl
# attributes
attributes(tbl)
# column names
names(tbl)
reordered_names <- c("player", "position", "points", "ppg", "rooky", "weight", "salary")
# moving salary at the end
tbl <- tbl[ ,reordered_names]
# deleting a column
tbl$new_column <- NULL
tbl
# attributes
attributes(tbl)
# column names
names(tbl)
# column names
names(tbl)
# changing rookie to rooky
attributes(tbl)$names[6] <- "rooky"
# display column names
names(tbl)
reordered_names <- c("player", "position", "points", "ppg", "rooky", "weight", "salary")
# moving salary at the end
tbl <- tbl[ ,reordered_names]
tbl
# converting salary in millions of dollars
tbl$salary <- tbl$salary / 1000000
tbl
# weight in kilograms
tbl[ ,"weight"] <- tbl[ ,"weight"] * 0.453592
tbl
# transform weight to inches
transform(tbl, weight = weight / 0.453592)
# did weight really change?
tbl
# transform weight to inches (permanently)
tbl <- transform(tbl, weight = weight / 0.453592)
tbl
csv <- "https://github.com/ucb-stat133/stat133-fall-2017/raw/master/data/nba2017-players.csv"
download.file(url = csv, destfile = 'nba2017-players.csv')
dat <- read.csv('nba2017-players.csv', stringsAsFactors = FALSE)
# download csv file into your working directory
csv <- "https://github.com/ucb-stat133/stat133-fall-2017/raw/master/data/nba2017-players.csv"
download.file(url = csv, destfile = 'nba2017-players.csv')
dat <- read.csv('nba2017-players.csv', stringsAsFactors = FALSE)
# dimensions (# of rows, # of columns)
dim(dat)
# display first few rows
head(dat)
# check the structure
str(dat, vec.len = 1)
tail(dat)
tail(dat, 5)
dat[height > 70]
dat[dat[height > 70]]
dat[dat$height > 70]
dat(dat$height > 70)
dat[dat$height > 70, ]
dat[dat$position = "C",]
dat[dat$position == "C",]
dat[dat$position == "C", player]
dat[dat$position == "C", c(1, 9)]
dat[dat$player == "Kevin Durant"]
dat[dat$player == "Kevin Durant",]
durantList = dat[dat$player == "Kevin Durant",]
data.frame(durantList)
durantList = dat[dat$player == "Kevin Durant",]
durantFrame = data.frame(durantList)
uclaList = dat[dat$college == ucla, ]
uclaList = dat[dat$college == "University of Californa, Los Angeles", ]
data.frame(uclaList)
uclaList = dat[dat$college == "University of California, Los Angeles", ]
data.frame(uclaList)
rookieList = dat[dat$experience == 0,]
rookieList = dat[dat$experience == 0,]
rookieFrame = data.frame(rookieList)
rookieCList = rookieList[position == C]
rookieCList = rookieList[rookieList$position == C]
rookieFrame[rookieFrame$position == C, ]
rookieFrame[rookieFrame$position == "C", ]
rookieCFrame = rookieFrame[rookieFrame$position == "C", ]
dat[dat$games > 50 & dat$minutes > 100, ]
topPlayers = data.frame(dat[dat$games > 50 & dat$minutes > 100, ])
max(height, na.rm=T)
max(dat$height, na.rm=T)
min(dat$height, na.rm=T)
ave(dat$height, na.rm=T)
ave(dat$height)
ave(dat$height)[1]
dat[dat$height = 87, player]
dat[dat$height == 87, player]
dat[dat$height == 87, 1]
dat[dat$height == 69, 1]
unique(dat$team)
length(unique(dat$team))
dat[dat$age ==max(dat$age), 1]
med(dat$salary)
median(dat$salary)
player10 <- dat[dat$experience > 10,]
median(player10$salary)
SG_PG <- dat[dat$position == "PG" || dat$position == "SG",]
median(SG_PG$salary)
dat[dat$position == "PG" || dat$position == "SG",]
dat[dat$position == "PG" && dat$position == "SG",]
dat[dat$position == "PG" ,]
dat[dat$position == "PG" || dat$position == "SG" ,]
dat[dat$position == "PG"  ,]
dat[dat$position == "PG"||| dat$position == "SG" ,]
dat[dat$position == "PG"| dat$position == "SG" ,]
pg_sg = dat[dat$position == "PG"|dat$position == "SG" ,]
median(pg_sg$salary)
medList <- dat[dat$position == "PF" & dat$age >= 29 & dat$height <= 74,]
medList <- dat[dat$position == "PF" & dat$age >= 29 & dat$height <= 74,]
median(medList$salary)
dat[dat$position == "PF" & dat$age >= 29 & dat$height <= 74,]
dat[dat$position == "PF" && dat$age >= 29 && dat$height <= 74,]
dat[dat$position == "PF" && dat$age >= 29 && dat$height <= 74,]
subset(dat, position == "PF")
subset(dat, position == "PF"& age >= 29)
subset(dat, position == "PF" & age >= 29 & height <= 74)
subset(dat, position == "PF" & age >= 29 )
subset(dat, position == "PF" & age >= 29 & height <= 74 )
condList = subset(dat, position == "PF" & age >= 29 & height <= 74 )
median(condList$salary)
dat[dat$points <= 4, ]
dat[dat$points <= 4,].count()
count(dat[dat$points <= 4,])
dat[dat$points <= 4,]
nRow(dat[dat$points <= 4,])
n row(dat[dat$points <= 4,])
nrow(dat[dat$points <= 4,])
dat[dat$points <= 4,]$name
dat[dat$points <= 4,]$player
dat[dat$points == 0,]$player
dat[dat$university == "University of California, Berkeley" ,]
dat[dat$college== "University of California, Berkeley" ,]
dat[dat$college == "University of California,Berkeley" ,]
View(topPlayers)
dat[dat$college == "University of California, Los Angeles", ]
dat[dat$college == "University of California, Berkeley" ,]
dat[dat$college == "University of California, Berkeley" ,]
dat[dat$college == "University of Notre Dame",]
nrow(dat[dat$college == "University of Notre Dame",])
dat[dat$college == "University of Notre Dame",]$player
nrow(dat[dat$weight > 260,])
dat[dat$weight > 260,]$player
nrow(dat[dat$college == NULL,])
nrow(dat[dat$college == "", ])
nrow(dat[dat$college == "", ])
max(dat$ppg)
max(dat$points/dat$games)
max(dat$points/dat$minutes)
max(dat$points/dat$minutes)
dat[dat$points/dat$minutes == 0.9129193, ]
max(dat$points/dat$minutes)
transform(dat, points = points / minutes)
transform(dat, points = points / minutes)
dat[dat$points = max(dat$points), ]
transform(dat, points = points / minutes)
dat[dat$points == max(dat$points), ]
transform(dat, points3 = points3 / minutes)
dat[dat$points == max(dat$points3), ]
transform(dat, points2 = points2 / minutes)
dat[dat$points == max(dat$points2), ]
transform(dat, points3 = points3 / minutes)
dat[dat$points3 == max(dat$points3), ]
transform(dat, points2 = points2 / minutes)
dat[dat$points2 == max(dat$points2), ]
transform(dat, points1 = points1 / minutes)
dat[dat$points1 == max(dat$points1), ]
gsw <- dat[dat$team == "GSW", c(1,4,5) ]
?sort
aggregate(dat$salary, by = list(dat$team), FUN = median)
aggregate(dat[ ,c('height', 'weight')], by = list(dat$position), FUN = mean)
aggregate(. ~ position, data = dat[ ,c('position', 'height', 'weight')],
FUN = mean)
aggregate(dat[ ,c('height', 'weight','age')], by = list(dat$position), FUN = mean)
aggregate(dat[ ,c('height', 'weight','age')], by = list(dat$team), FUN = mean)
aggregate(dat[ ,c('height', 'weight','age')], by = list(dat$team, dat$position), FUN = mean)
gsw[order(gsw$height)]
gsw <- dat[dat$team == "GSW", c(1,4,5), ]
gsw <- dat[dat$team == "GSW", c(1,4,5) ]
gsw <- dat[dat$team == "GSW", c(1,4,5) ]
gsw[order(gsw$height),]
gsw[order(gsw$weight, decreasing = TRUE),]
head(dat[order(dat$salary),],5)
head(dat[order(dat$salary, decreasing = FALSE),],5)
head(dat[order(dat$salary, decreasing = TRUE),],5)
dat[head(dat[order(dat$salary, decreasing = TRUE),],5), c('name')
dat[head(dat[order(dat$salary, decreasing = TRUE),],5), c('name')]
dat[head(dat[order(dat$salary, decreasing = TRUE),],5), c('player', "team", "salary")]
dat[dat[order(dat$salary, decreasing = TRUE),], c('player', "team", "salary")]
dat[dat[order(dat$salary, decreasing = TRUE),], c('player', "team", "salary")]
dat[dat[order(dat$salary, decreasing = TRUE),]
dat[dat[order(dat$salary, decreasing = TRUE),]
dat[order(dat$salary, decreasing = TRUE),]
dat[order(dat$salary, decreasing = TRUE),][,c("player")]
dat[order(dat$salary, decreasing = TRUE),][1:5,c("player")]
dat[order(dat$salary, decreasing = TRUE),][1:5,c("player", "team", "salary")]
dat[order(dat$points3, decreasing = TRUE),][1:10,c("player", "team", "points3")]
aggregate(dat$salary, by = cbind((dat[,c('team', 'position')])), FUN = function(x){
return(
paste(c(mn=mean(x) , md=median(x), mini=min(x)), collapse = ' ')
)
}
)
aggregate(dat[ ,c('height', 'weight','age')], by = list(dat$team, dat$position), FUN = mean)
aggregate(dat$salary, by = cbind((dat[,c('team', 'position')])), FUN = function(x){
return(
paste(c(mn=mean(x) , md=median(x), mini=min(x)), collapse = ' ')
)
}
)
